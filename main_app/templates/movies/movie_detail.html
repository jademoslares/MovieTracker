{% extends 'base.html' %} {% block content %}
<div class="row">
  <div class="col s6">
    <div class="card">
      <div class="card-content">
        <span class="card-title">{{ movie.title }}</span>
        <p>Director: {{ movie.director }}</p>
        <p>Country: {{ movie.country }}</p>
        <p>Release Year: {{ movie.release_year }}</p>
        <p>Rating: {{ movie.rating }}</p>
        <p>Description: {{ movie.description }}</p>
      </div>
      <div class="card-action">
        <a href="{% url 'movie_update' movie.show_id %}">Edit</a>
        <form
          id="delete-form"
          action="{% url 'movie_delete' movie.show_id %}"
          method="POST"
          style="display: none"
        >
          {% csrf_token %}
          <button type="submit">Delete</button>
        </form>

        <button type="button" onclick="confirmDelete()">Delete</button>

        <a href="{% url 'home' %}">Back to List</a>
      </div>
    </div>
  </div>

  <h3>Actors:</h3>
  <ul>
    {% for actor in actors %}
    <li>{{ actor.actor_name }}</li>
    {% endfor %}
  </ul>

  <h3>Genres:</h3>
  <ul>
    {% for genre in genres %}
    <li>{{ genre.genre_name }}</li>
    {% endfor %}
  </ul>

  <script>
    function confirmDelete() {
      if (confirm("Are you sure you want to delete this movie?")) {
        document.getElementById("delete-form").submit();
      }
    }
  </script>
  {% endblock %}
</div>
